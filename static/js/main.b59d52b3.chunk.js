(this["webpackJsonpreact-formularios"]=this["webpackJsonpreact-formularios"]||[]).push([[0],{111:function(e,a,t){"use strict";t.r(a);var c=t(3),r=t(4),n=t(19),s=t.n(n),o=(t(58),t(9)),i=t.n(o),l=t(12),d=t(15),m=t(22),b=t(10),u=t(11),j=t.n(u),h=t(23),p=t.n(h),f="https://5f863857c8a16a0016e6acb1.mockapi.io",x=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(f,"/mascota"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("".concat(f,"/mascota"),JSON.stringify(a),{headers:{"Content-type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(i.a.mark((function e(a){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/mascota/").concat(a),{method:"DELETE"});case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.put("".concat(f,"/mascota/").concat(a.mascota_id),JSON.stringify(a),{headers:{"Content-type":"Application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N={mascota_nombre:"",mascota_raza:0,mascota_tipo:0,mascota_edad:0,mascota_colores:"",mascota_activo:!1},w=function(e){var a=e.traerMascotas,t=e.mascotaEditar,n=Object(r.useState)(N),s=Object(d.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)("crear"),u=Object(d.a)(l,2),h=u[0],p=u[1],f=function(e){var a="checkbox"===e.target.type?e.target.checked:e.target.value;i(Object(b.a)(Object(b.a)({},o),{},Object(m.a)({},e.target.name,a)))};return Object(r.useEffect)((function(){null!==t&&(i(t),p("editar"))}),[t]),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{className:"row",onSubmit:function(e){e.preventDefault(),"crear"===h?j.a.fire({title:"\xbfRegistrar mascota?",text:"Se guardar\xe1 en la base de datos",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&O(o).then((function(e){e.mascota_id&&(a(),i(N),j.a.fire({title:"Registrado!",text:"mascota registrada correctamente",icon:"success",timer:1500}))}))})):j.a.fire({title:"\xbfEditar?",text:"\xbfSeguro que desea editar el registro de la mascota?",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&g(Object(b.a)({},o)).then((function(e){200===e.status&&(i(N),p("crear"),a(),j.a.fire({position:"top-end",icon:"success",title:"Registro actualizado",showConfirmButton:!1,timer:1e3}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese nombre",name:"mascota_nombre",value:o.mascota_nombre,onChange:f})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Raza:"}),Object(c.jsxs)("select",{className:"form-control",name:"mascota_raza",value:o.mascota_raza,onChange:f,children:[Object(c.jsx)("option",{value:"0",children:"Seleccione"}),Object(c.jsx)("option",{value:"1",children:"Bull Terrier"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Colores:"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese colores",name:"mascota_colores",value:o.mascota_colores,onChange:f})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Edad"}),Object(c.jsx)("input",{type:"number",className:"form-control",name:"mascota_edad",value:o.mascota_edad,onChange:f})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Tipo"}),Object(c.jsxs)("select",{className:"form-control",name:"mascota_tipo",value:o.mascota_tipo,onChange:f,children:[Object(c.jsx)("option",{value:"0",children:"Seleccione"}),Object(c.jsx)("option",{value:"1",children:"Perro"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"\xbfRegistro activo?"}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("div",{className:"input-group-text",children:Object(c.jsx)("input",{type:"checkbox","aria-label":"Checkbox for following text input",name:"mascota_activo",checked:o.mascota_activo,onChange:f,id:"checkActivo"})})}),Object(c.jsx)("label",{htmlFor:"checkActivo",className:"form-control",children:"Activo"})]})]}),Object(c.jsx)("div",{className:"form-group col-md-6",children:Object(c.jsx)("button",{className:"btn btn-block btn-primary",type:"submit",children:"crear"===h?"Crear mascota":"Guardar Cambios"})}),Object(c.jsx)("div",{className:"form-group col-md-6",children:Object(c.jsx)("button",{className:"btn btn-block btn-danger",type:"button",children:"Cancelar"})})]})})})})})},_=t(46),y=t.n(_),k=(t(82),t(52)),C=function(e){var a=e.mascotas,t=e.traerMascotas,r=e.setMascotaEditar,n={columns:[{label:"Id",field:"mascota_id"},{label:"Nombre",field:"mascota_nombre"},{label:"Raza",field:"mascota_raza"},{label:"Colores",field:"mascota_colores"},{label:"Tipo",field:"mascota_tipo"},{label:"Edad",field:"mascota_edad"},{label:"Activo",field:"mascota_activo"},{label:"Acciones",field:"acciones"}],rows:a.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{mascota_activo:Object(c.jsx)(y.a,{defaultChecked:e.mascota_activo,onChange:function(a){var t,c;t=a.target.checked,c=Object(b.a)({},e),g(Object(b.a)(Object(b.a)({},c),{},{mascota_activo:t})).then((function(e){200===e.status&&j.a.fire({position:"top-end",icon:"success",title:"Registro actualizado",showConfirmButton:!1,timer:1e3})}))}}),acciones:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){r(Object(b.a)({},e))},children:"Editar"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var c;c=e.mascota_id,j.a.fire({title:"\xbfEliminar?",icon:"error",text:"Los cambios seran irreversibles",showCancelButton:!0}).then((function(e){e.isConfirmed&&v(c).then((function(e){e.mascota_id&&(console.log(a),t(),j.a.fire({title:"Eliminado!!",icon:"success",text:"Registro eliminado satisfactoriamente",timer:1500}))}))}))},children:"Eliminar"})]})})}))};return Object(c.jsx)("div",{className:"row mt-4",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)(k.c,{className:"text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,data:n})})})})})},E=function(){var e=Object(r.useState)([]),a=Object(d.a)(e,2),t=a[0],n=a[1],s=Object(r.useState)(null),o=Object(d.a)(s,2),m=o[0],b=o[1],u=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:a=e.sent,n(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{traerMascotas:u,mascotaEditar:m}),Object(c.jsx)(C,{mascotas:t,traerMascotas:u,setMascotaEditar:b})]})},S=function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"!#",children:"Navbar"}),Object(c.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"collapsibleNavId",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsxs)("a",{className:"nav-link",href:"!#",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"!#",children:"Link"})}),Object(c.jsxs)("li",{className:"nav-item dropdown",children:[Object(c.jsx)("a",{className:"nav-link dropdown-toggle",href:"!#",id:"dropdownId","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Dropdown"}),Object(c.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownId",children:[Object(c.jsx)("a",{className:"dropdown-item",href:"!#",children:"Action 1"}),Object(c.jsx)("a",{className:"dropdown-item",href:"!#",children:"Action 2"})]})]})]}),Object(c.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(c.jsx)("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search"}),Object(c.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Search"})]})]})]})},F=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S,{}),Object(c.jsx)("main",{className:"container mt-4",children:Object(c.jsx)(E,{})})]})};s.a.render(Object(c.jsx)(F,{}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.b59d52b3.chunk.js.map